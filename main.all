(include assembly
	lib/vms/init.vms
	lib/vms/set.vms
	lib/vms/get.vms)

(include source
	lib/all/lr.all
	lib/all/ret.all
	lib/all/dec.all
	lib/all/mul.all)

; result: 120
(define (main)
	(_set 0 (fact (_get 1))))

; f(x) = 1, if x < 1
; f(x) = x * f(x-1)
(define (fact x)
	(if (lr x 1) 
		(ret 1)
		(mul x (fact (dec x)))))
